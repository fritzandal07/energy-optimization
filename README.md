# Sensor Simulation System

## Overview
This system simulates a temperature control system with mock data. It has three Python scripts:

1. **sensor_reader.py** – Reads temperature, occupancy, and power data from a CSV file and logs it.
2. **decision_engine.py** – Checks the log and decides whether to raise or lower the temperature.
3. **actuation_simulator.py** – Simulates changes to the thermostat and logs the action.


### Requirements

- Python 3
- No external dependencies (all scripts run locally)

## How to Run

### 1. Prepare the CSV Files
1. **mock_data/sensor_data.csv** – Contains mock sensor data for the simulation. For occupancy, 1 is for Occupied and 0 for Unoccupied.
2. **sensor_log.csv**: Logs the sensor data (timestamp, temperature, occupancy, power).
3. **decisions.log**: Logs the decisions made by the Decision Engine (e.g., "raise setpoint", "lower setpoint", "do nothing").
4. **actuator.log**: Logs the simulated actuator actions based on the decisions (e.g., "Simulating actuator change").

### 2. Set Up and Run the Scripts
Initial Setup (Only for the first time):
1. Install Pipenv (requires internet):
```bash
pip install pipenv
```
2. Create a new environment and install dependencies (requires internet):
```bash
pipenv install
```
3. Activate the virtual environment
```bash
pipenv shell
```
### Run the Scripts
#### Terminal 1: Run the Sensor Reader
Open a terminal window and run:
```bash
python sensor_reader.py
```
#### Terminal 2: Run the Sensor Reader
In another terminal window, run:
```bash
python decision_engine.py
```
#### Terminal 3: Run the Actuation Simulator
In a third terminal window, run:
```bash
python actuation_simulator.py
```
### 3. Monitor the Logs
- `sensor_log.csv` – A CSV file generated by sensor_reader.py. It contains the raw sensor data (timestamp, temperature, occupancy, power).

- `decisions.log` – Logs the decisions made by the system (raise, lower, or do nothing).

- `actuator.log` – Logs the simulated thermostat actions.

## Running the Scripts Automatically (Optional)

You can use cron (Linux/Mac) to run these scripts periodically.

## Set up cron jobs:

### 1. Open the crontab editor:
```bash
crontab -e
```
### 2. Add these lines to run the scripts every minute:
```bash
* * * * * /usr/bin/python3 /path/to/sensor_reader.py
* * * * * /usr/bin/python3 /path/to/decision_engine.py
* * * * * /usr/bin/python3 /path/to/actuation_simulator.py
```
Replace /path/to/ with the actual path to your scripts.

## Notes
- Simultaneous execution: All three scripts need to run at the same time for the system to work.
- Permissions: Make sure you have permission to write to the logs directory.
- Pipenv Offline: After the initial setup, Pipenv allows you to run the scripts offline, without needing an internet connection.